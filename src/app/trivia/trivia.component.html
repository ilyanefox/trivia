<div *ngIf="questions$ | async as questions">

    <section *ngIf="currentQuestionIndex < questions.length else results">
      <p class="question-tracker">Question {{currentQuestionIndex + 1}} of {{questions.length}}</p>
      <app-trivia-question *ngFor="let item of questions; let i = index" 
      [question]="item" 
      [shouldDisplay]="i === currentQuestionIndex"
      (answeredEvent)="onQuestionAnswered($event)">
    </app-trivia-question>
    </section>
  
  <ng-template #results>
    <section class="results">
      <p>
        You answered {{correctAnswers}} out of {{questions.length}} questions correctly.
      </p>
      <p class="score">Your score is {{correctAnswers / questions.length | percent}}</p>
      <p>Grab a cocktail &amp; celebrate!</p>
    </section>
  </ng-template>

  </div>